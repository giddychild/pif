<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Project Intake Form</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      padding: 20px;
    }

    form {
      width: 100%;
    }

    .form-group {
      display: flex;
      align-items: center;
      margin-bottom: 15px;
    }

    .form-group label {
      width: 150px;
      margin-right: 10px;
      text-align: left;
    }

    .form-group input,
    .form-group select {
      padding: 8px;
      border: 1px solid #ccc;
      border-radius: 4px;
    }

    /* Input sizes */
    .small-input {
      width: 150px;
    }

    .medium-input {
      width: 300px;
    }

    .wide-input {
      width: 500px;
    }

    .collapsible {
      cursor: pointer;
      background-color: #f1f1f1;
      padding: 10px;
      border: none;
      border-radius: 4px;
      text-align: left;
      font-size: 16px;
      width: 100%;
      margin-bottom: 5px;
    }

    .collapsible.active {
      background-color: #d1d1d1;
    }

    .content {
      display: none;
      overflow: hidden;
      margin-top: 10px;
      padding-left: 15px;
    }

    .button-group {
      display: flex;
      justify-content: flex-start;
      gap: 10px;
      margin-bottom: 15px;
    }

    button[type="submit"] {
      padding: 10px 20px;
      background-color: #007BFF;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }

    button[type="submit"]:hover {
      background-color: #0056b3;
    }

    .add-button {
      padding: 10px 20px;
      background-color: #007BFF;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }

    .add-button:hover {
      background-color: #0056b3;
    }

    .remove-button {
      padding: 10px 20px;
      background-color: #FF4C4C;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }

    .remove-button:hover {
      background-color: #CC0000;
    }
    
    table {
    width: 100%;
    border-collapse: collapse;
    margin-bottom: 15px;
    table-layout: auto;
    }

    th, td {
      border: 1px solid #ccc;
      padding: 8px;
      text-align: left;
      word-wrap: break-word;
      max-width: 60px;
    }

    th {
      background-color: #f9f9f9;
    }

    td[title] {
      position: relative;
    }

    table.environment-table {
    width: 100%;
    border-collapse: collapse;
    margin-bottom: 15px;
    table-layout: auto;
    }

    table.environment-table th, table.environment-table td {
    border: 1px solid #ccc;
    padding: 8px;
    text-align: left;
    }

    table.environment-table th {
    background-color: #f9f9f9;
    }
  </style>
</head>
<body>
  <h1>TxDIR PIF AWS Summary Page</h1>
  <form id="dataInputForm" action="/submit" method="post" enctype="multipart/form-data">

    <!-- Revision History -->
    <button type="button" class="collapsible">Revision History</button>
    <div class="content">
      <div class="form-group">
        <label for="version">Version:</label>
        <input type="number" id="version" name="version" placeholder="Enter the version #" class="small-input" required>
      </div>
      <div class="form-group">
        <label for="author">Author:</label>
        <input type="text" id="author" name="author" placeholder="Enter author name" class="medium-input" maxlength="50" required>
      </div>
      <div class="form-group">
        <label for="comments">Comments:</label>
        <input type="text" id="comments" name="comments" placeholder="Enter comments" class="wide-input" maxlength="250" required>
      </div>
      <div class="form-group">
        <label for="date">Date:</label>
        <input type="date" id="date" name="date" class="small-input" required>
      </div>
    </div>

    <!-- Build Documents -->
    <button type="button" class="collapsible">Build Documents</button>
    <div class="content" id="document-fields">
      <div class="document-group" style="display: flex; gap: 20px; align-items: flex-start;">
        <div class="form-group" style="display: flex; flex-direction: column;">
          <label>Document Type:</label>
          <select name="document-type[]" class="small-input" required>
            <option value="" disabled selected>Select type</option>
            <option value="AWS Calculator">AWS Calculator</option>
            <option value="HLA">HLA</option>
            <option value="Reference URL">Reference URL</option>
          </select>
        </div>
        <div class="form-group" style="display: flex; flex-direction: column;">
          <label>Link Location:</label>
          <input type="text" name="link-location[]" placeholder="Enter URL" class="wide-input" maxlength="250" required>
        </div>
        <button type="button" class="remove-document remove-button">Remove</button>
      </div>
      <div class="button-group">
        <button type="button" id="add-document" class="add-button">+ Add Another Document</button>
      </div>
    </div>

    <!-- Environments -->
    <button type="button" class="collapsible">Environments</button>
    <div class="content">
      <table class="environment-table" id="environmentTable">
        <thead>
          <tr>
            <th>Environment</th>
            <th>Account Number</th>
            <th>Region</th>
            <th>Existing</th>
            <th>SLA</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>
              <select name="environment-type[]" class="small-input" required>
                <option value="" disabled selected>Select ENV type</option>
                <option value="DEV">DEV</option>
                <option value="TEST">TEST</option>
                <option value="STAGE">STAGE</option>
                <option value="PROD">PROD</option>
                <option value="UTILITY">UTILITY</option>
              </select>
            </td>
            <td><input type="text" name="account-number[]" placeholder="Enter AWS Account #" class="small-input" maxlength="12" required></td>
            <td>
              <select name="region[]" class="small-input" required>
                <option value="" disabled selected>Select region</option>
                <option value="us-east-1">us-east-1</option>
                <option value="us-east-2">us-east-2</option>
                <option value="us-west-1">us-west-1</option>
                <option value="us-west-2">us-west-2</option>
              </select>
            </td>
            <td>
              <select name="existing[]" class="small-input" required>
                <option value="" disabled selected>Select existing</option>
                <option value="New">New</option>
                <option value="Existing">Existing</option>
              </select>
            </td>
            <td>
              <select name="sla[]" class="small-input" required>
                <option value="" disabled selected>Select SLA</option>
                <option value="Fully Managed">Fully Managed</option>
                <option value="Semi Managed">Semi Managed</option>
              </select>
            </td>
            <td><button type="button" class="remove-environment remove-button">Remove</button></td>
          </tr>
        </tbody>
      </table>
      <button type="button" id="add-environment" class="add-button">+ Add Environment</button>
    </div>
    <!-- <button type="button" class="collapsible">Environments</button>
    <div class="content" id="environment-fields">
      <div class="environment-group" style="display: flex; gap: 20px; align-items: flex-start;">
        <div class="form-group" style="display: flex; flex-direction: column;">
          <label>Environment:</label>
          <select name="environment-type[]" class="small-input" required>
            <option value="" disabled selected>Select ENV type</option>
            <option value="DEV">DEV</option>
            <option value="TEST">TEST</option>
            <option value="STAGE">STAGE</option>
            <option value="PROD">PROD</option>
            <option value="UTILITY">UTILITY</option>
          </select>
        </div>
        <div class="form-group" style="display: flex; flex-direction: column;">
          <label>Account Number:</label>
          <input type="text" name="account-number[]" placeholder="Enter AWS Account #" class="small-input" maxlength="12" required>
        </div>
        <div class="form-group" style="display: flex; flex-direction: column;">
            <label>Region:</label>
            <select name="region[]" class="small-input" required>
              <option value="" disabled selected>Select region</option>
              <option value="us-east-1">us-east-1</option>
              <option value="us-east-2">us-east-2</option>
              <option value="us-west-1">us-west-2</option>
              <option value="us-central-1">us-central-1</option>
              <option value="us-central-2">us-central-2</option>
            </select>
          </div>
          <div class="form-group" style="display: flex; flex-direction: column;">
              <label>Existing:</label>
              <select name="existing[]" class="small-input" required>
                <option value="" disabled selected>Select existing</option>
                <option value="New">New</option>
                <option value="Existing">Existing</option>
              </select>
          </div>
          <div class="form-group" style="display: flex; flex-direction: column;">
              <label>SLA:</label>
              <select name="sla[]" class="small-input" required>
                <option value="" disabled selected>Select SLA</option>
                <option value="Fully Managed">Fully Managed</option>
                <option value="Semi Managed">Semi Managed</option>
              </select>
          </div>
        <button type="button" class="remove-environment remove-button">Remove</button>
      </div>
      <div class="button-group">
        <button type="button" id="add-environment" class="add-button">+ Add Environment</button>
      </div>
    </div> -->

    <!-- Tags Section -->
    <button type="button" class="collapsible">Tags</button>
    <div class="content">
        <table>
        <thead>
            <tr>
            <th>Enterprise Tag Name</th>
            <th>Customer Input</th>
            <th>Input Source</th>
            <th>Default Value</th>
            <th>PaaS</th>
            <th>CI #1</th>
            </tr>
        </thead>
        <tbody>
            <tr>
            <td title="ServiceNow Project Number. Used to identify which project(s) each cloud resource is being used to support.">pcm-project_number</td>
            <td>No</td>
            <td>PCM Build Template</td>
            <td>empty</td>
            <td></td>
            <td></td>
            </tr>
            <tr>
            <td title="ServiceNow Application Portfolio Management (APM) - Business Service Sysid. Used to identify which Business Service(s) each cloud resource is being used to support.">pcm-business_service_sysid</td>
            <td>Yes</td>
            <td>PCM Build Template</td>
            <td>empty</td>
            <td></td>
            <td></td>
            </tr>
            <tr>
            <td title="ServiceNow Application Portfolio Management (APM) - Application Name sysid. Used to identify which Application Name(s) each cloud resource is being used to support. Refer to Application Portfolio Management (APM).">pcm-application_name_sysid</td>
            <td>Yes</td>
            <td>PCM Build Template</td>
            <td>empty</td>
            <td></td>
            <td></td>
            </tr>
            <tr>
                <td title="Customer choice.  Customer Tag for ITFM.  This can be any data the Customer would like to see in the ITFM system for their own grouping or knowledge of specific device(s).">pcm-tag_1</td>
                <td>Yes</td>
                <td>PCM Build Template</td>
                <td>empty</td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td title="Customer choice.  This can be any data the Customer would like for their own grouping or knowledge of specific device(s).">pcm-tag_2</td>
                <td>Yes</td>
                <td>PCM Build Template</td>
                <td>empty</td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td title="Customer choice.  This can be any data the Customer would like for their own grouping or knowledge of specific device(s).">pcm-tag_3</td>
                <td>Yes</td>
                <td>PCM Build Template</td>
                <td>empty</td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td title="Indicates that this resource processes sensitive CJIS data.">pcm-sensitive_data_cjis</td>
                <td>Yes</td>
                <td>PCM Build Template</td>
                <td>no</td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td title="Indicates that this resource processes sensitive FERPA data.">pcm-sensitive_data_ferpa</td>
                <td>Yes</td>
                <td>PCM Build Template</td>
                <td>no</td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td title="Indicates that this resource processes sensitive FTI data.">pcm-sensitive_data_fti</td>
                <td>Yes</td>
                <td>PCM Build Template</td>
                <td>no</td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td title="Indicates that this resource processes sensitive PHI data.">pcm-sensitive_data_phi</td>
                <td>Yes</td>
                <td>PCM Build Template</td>
                <td>no</td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td title="Indicates that this resource processes sensitive PII data.">pcm-sensitive_data_pii</td>
                <td>Yes</td>
                <td>PCM Build Template</td>
                <td>no</td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td title="Indicates that this resource processes sensitive PCI data.">pcm-sensitive_data_pci</td>
                <td>Yes</td>
                <td>PCM Build Template</td>
                <td>no</td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td title="This tag is only applicable for services procured by customers through self-service environments/CSP consoles. For items built through RFS or the service catalog, select no.">pcm-self_service</td>
                <td>No</td>
                <td>PCM Build Template</td>
                <td>no</td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td title="To identify why customers chose the Cloud Service Provider (CSP) they are using.">pcm-public_cloud_decision_criteria</td>
                <td>Yes</td>
                <td>PCM Build Template</td>
                <td>empty</td>
                <td style="background-color: black;"></td>
                <td></td>
            </tr>
            <tr>
                <td title="Identifies the lifecycle of the environment (ie., dev, test, prod).">pcm-environment</td>
                <td>Yes</td>
                <td>PCM Build Template</td>
                <td>empty</td>
                <td style="background-color: black;"></td>
                <td></td>
            </tr>
            <tr>
                <td title="Used to categorize the primary capability associated with end point.">pcm-primary_capability</td>
                <td>Yes</td>
                <td>PCM Build Template</td>
                <td>application_other</td>
                <td style="background-color: black;"></td>
                <td></td>
            </tr>
            <tr>
                <td title="Identifies that customer is entitled to receive Database Administration Support as defined in the contract. This tag is required if the primary capability is Application - Database.">pcm-dba_support</td>
                <td>Yes</td>
                <td>PCM Build Template</td>
                <td>none</td>
                <td style="background-color: black;"></td>
                <td></td>
            </tr>
            <tr>
                <td title="Identifies that customer is entitled to receive Middleware Support as defined in the contract. This tag is required if the primary capability is Application - Middleware.">pcm-middleware_support</td>
                <td>Yes</td>
                <td>PCM Build Template</td>
                <td>no</td>
                <td style="background-color: black;"></td>
                <td></td>
            </tr>
            <tr>
                <td title="This is a PCM configuration management tool.">pcm-tools_bigfix</td>
                <td>No</td>
                <td>Mulesoft Daily Automation</td>
                <td>yes</td>
                <td style="background-color: black;"></td>
                <td></td>
            </tr>
            <tr>
                <td title="This is a vulnerability management and detection tool.">pcm-tools_security_vulnerability</td>
                <td>No</td>
                <td>Mulesoft Daily Automation</td>
                <td>yes</td>
                <td style="background-color: black;"></td>
                <td></td>
            </tr>
            <tr>
                <td title="This is a endpoint anti-virus protection tool.">pcm-tools_endpoint_security_av</td>
                <td>No</td>
                <td>Mulesoft Daily Automation</td>
                <td>yes</td>
                <td style="background-color: black;"></td>
                <td></td>
            </tr>
            <tr>
                <td title="This is an enterprise SIEM solution.">pcm-tools_splunk</td>
                <td>No</td>
                <td>Mulesoft Daily Automation</td>
                <td>yes</td>
                <td style="background-color: black;"></td>
                <td></td>
            </tr>
            <tr>
                <td title="This is a forensics tool.">pcm-tools_forensics</td>
                <td>No</td>
                <td>Mulesoft Daily Automation</td>
                <td>yes</td>
                <td style="background-color: black;"></td>
                <td></td>
            </tr>
            <tr>
                <td title="This is an enterprise public cloud edge security platform.">pcm-tools_pcess</td>
                <td>No</td>
                <td>PCM Build Template</td>
                <td>no</td>
                <td style="background-color: black;"></td>
                <td></td>
            </tr>
            <tr>
                <td title="Backup services and/or configuration details.">pcm-backup_enabled</td>
                <td>No</td>
                <td>PCM Build Template</td>
                <td>True</td>
                <td style="background-color: black;"></td>
                <td></td>
            </tr>
            <tr>
                <td title="Name of backup service or product used to backup this resource.">pcm-backup_product</td>
                <td>No</td>
                <td>PCM Build Template</td>
                <td>backup service</td>
                <td style="background-color: black;"></td>
                <td></td>
            </tr>
            <tr>
                <td title="Date and time of last successful backup for continuity purposes.">pcm-backup_last_updated</td>
                <td>No</td>
                <td>Mulesoft Daily Automation</td>
                <td>empty</td>
                <td style="background-color: black;"></td>
                <td></td>
            </tr>
            <tr>
                <td title="Disaster Recovery capability associated with the resource. For older builds, CIs must go through a DR entitlement assessment before a DR class is assigned.">pcm-dr_capability</td>
                <td>Yes</td>
                <td>PCM Build Template</td>
                <td>class_e</td>
                <td style="background-color: black;"></td>
                <td></td>
            </tr>
            <tr>
                <td title="Name of the patch group associated with this resource.">pcm-patching_group</td>
                <td>Yes</td>
                <td>PCM Build Template</td>
                <td>empty</td>
                <td style="background-color: black;"></td>
                <td></td>
            </tr>
            <tr>
                <td title="Date and time the resource was last put through a successful patching sequence.">pcm-patching_last_updated</td>
                <td>No</td>
                <td>Mulesoft Daily Automation</td>
                <td>empty</td>
                <td style="background-color: black;"></td>
                <td></td>
            </tr>
            <tr>
                <td title="Indicates that this resource is contained in the public portion of the customer’s environment. If the value for this is yes, PCESS should also be yes.">pcm-dmz</td>
                <td>Yes</td>
                <td>PCM Build Template</td>
                <td>empty</td>
                <td style="background-color: black;"></td>
                <td></td>
            </tr>
            <tr>
                <td title="Date and time the resource last had its anti-virus system updated.">pcm-av_last_updated</td>
                <td>No</td>
                <td>Mulesoft Daily Automation</td>
                <td>empty</td>
                <td style="background-color: black;"></td>
                <td></td>
            </tr>
            <tr>
                <td title="Required by AWS to receive Migration Acceleration Program (MAP) credits.">map-migrated</td>
                <td>No</td>
                <td>PCM Build Template</td>
                <td>empty</td>
                <td style="background-color: black;"></td>
                <td></td>
            </tr>          
            <!-- Add more rows as needed -->
        </tbody>
        </table>
    </div>

    <br>
    <button type="submit">Submit</button>
  </form>


  

  <script>
    // Collapsible Sections
    document.querySelectorAll(".collapsible").forEach(button => {
      button.addEventListener("click", () => {
        button.classList.toggle("active");
        const content = button.nextElementSibling;
        content.style.display = content.style.display === "block" ? "none" : "block";
      });
    });

    // Add Document
    document.getElementById("add-document").addEventListener("click", () => {
      const documentFields = document.getElementById("document-fields");
      const newDocumentGroup = document.createElement("div");
      newDocumentGroup.classList.add("document-group");
      newDocumentGroup.style.cssText = "display: flex; gap: 20px; align-items: flex-start;";
      newDocumentGroup.innerHTML = `
        <div class="form-group" style="display: flex; flex-direction: column;">
          <label>Document Type:</label>
          <select name="document-type[]" class="small-input" required>
            <option value="" disabled selected>Select type</option>
            <option value="AWS Calculator">AWS Calculator</option>
            <option value="HLA">HLA</option>
            <option value="Reference URL">Reference URL</option>
          </select>
        </div>
        <div class="form-group" style="display: flex; flex-direction: column;">
          <label>Link Location:</label>
          <input type="text" name="link-location[]" placeholder="Enter URL" class="wide-input" maxlength="250" required>
        </div>
        <button type="button" class="remove-document remove-button">Remove</button>
      `;
      documentFields.insertBefore(newDocumentGroup, documentFields.querySelector(".button-group"));
    });

    // Remove Document
    document.addEventListener("click", (event) => {
      if (event.target.classList.contains("remove-document")) {
        event.target.closest(".document-group").remove();
      }
    });

    // Add Environment
    document.getElementById("add-environment").addEventListener("click", () => {
    const environmentTable = document.getElementById("environmentTable").querySelector("tbody");
    const newRow = document.createElement("tr");
    newRow.innerHTML = `
        <td>
        <select name="environment-type[]" class="small-input" required>
            <option value="" disabled selected>Select ENV type</option>
            <option value="DEV">DEV</option>
            <option value="TEST">TEST</option>
            <option value="STAGE">STAGE</option>
            <option value="PROD">PROD</option>
            <option value="UTILITY">UTILITY</option>
        </select>
        </td>
        <td><input type="text" name="account-number[]" placeholder="Enter AWS Account #" class="small-input" maxlength="12" required></td>
        <td>
        <select name="region[]" class="small-input" required>
            <option value="" disabled selected>Select region</option>
            <option value="us-east-1">us-east-1</option>
            <option value="us-east-2">us-east-2</option>
            <option value="us-west-1">us-west-1</option>
            <option value="us-west-2">us-west-2</option>
        </select>
        </td>
        <td>
        <select name="existing[]" class="small-input" required>
            <option value="" disabled selected>Select existing</option>
            <option value="New">New</option>
            <option value="Existing">Existing</option>
        </select>
        </td>
        <td>
        <select name="sla[]" class="small-input" required>
            <option value="" disabled selected>Select SLA</option>
            <option value="Fully Managed">Fully Managed</option>
            <option value="Semi Managed">Semi Managed</option>
        </select>
        </td>
        <td><button type="button" class="remove-environment remove-button">Remove</button></td>
    `;
    environmentTable.appendChild(newRow);
    });

    document.addEventListener("click", (event) => {
    if (event.target.classList.contains("remove-environment")) {
        event.target.closest("tr").remove();
    }
    });

  </script>
</body>
</html>
